var offerChooseBtnBox=document.querySelector(".section-offer__choose-bar"),offerChooseBtnDefault=document.querySelector(".section-offer__choose-btn:first-child"),offerChooseBtnMonthly=document.querySelector(".section-offer__choose-btn:last-child"),offerCardTitle=document.querySelectorAll(".section-offer__card-title"),offerCardTitleMonthly=document.querySelectorAll(".section-offer__card-title--monthly"),offerCardMoney=document.querySelectorAll(".section-offer__card-money--once"),offerCardMoneySale=document.querySelectorAll(".section-offer__card-money--monthly"),quoteIconLeft=document.querySelector(".section-quote__icon-arrow--left"),quoteIconRight=document.querySelector(".section-quote__icon-arrow--right"),quoteBoxes=document.querySelectorAll(".section-quote__box"),quoteSection=document.querySelector(".section-quote"),sections=document.querySelectorAll(".section"),header=document.querySelector(".header"),navItems=document.querySelectorAll(".nav-bar__list-item"),navItemLinks=document.querySelectorAll(".nav-bar__list-item a"),navBarMenu=document.querySelector(".nav-bar__menu"),burgerBtn=document.querySelector(".nav-bar__btn-burger"),burgerBtnBars=document.querySelector(".nav-bar__btn-burger i"),footerYear=document.querySelector(".footer__text-year"),msgStatus=document.querySelector(".msg-status"),formBtn=document.querySelector(".section-contact__form-btn"),formInputs=document.querySelectorAll(".section-contact__form-box input"),formBoxes=document.querySelectorAll(".section-contact__form-box"),formInputName=document.querySelector(".section-contact__form-box input#name"),formInputSurname=document.querySelector(".section-contact__form-box input#surname"),formInputEmail=document.querySelector(".section-contact__form-box input#email"),formInputPhoneNumber=document.querySelector(".section-contact__form-box input#phone-number"),formLabels=document.querySelectorAll(".section-contact__form-box label"),formTextarea=document.querySelector(".section-contact__form-box textarea"),formErrors=document.querySelectorAll(".section-contact__error"),startX=0,currentX=0,isDragging=!1,handleElForCheckClickedButtonFunction=function(e){e.classList.toggle(e.classList[0]+"--choosed"),e.previousElementSibling===offerChooseBtnDefault?e.previousElementSibling.classList.toggle(e.classList[0]+"--choosed"):e.nextElementSibling===offerChooseBtnMonthly&&e.nextElementSibling.classList.toggle(e.classList[0]+"--choosed"),offerCardTitleMonthly.forEach(function(e){return e.classList.toggle("section-offer__card-title--monthly-unvisible")}),offerCardMoneySale.forEach(function(e){return e.classList.toggle("section-offer__card-money--monthly-unvisible")}),offerCardMoney.forEach(function(e){return e.classList.toggle("section-offer__card-money--once-decoration-none")})},checkClickedButton=function(e){"section-offer__choose-btn--choosed"!==e.target.classList[1]&&"section-offer__choose-btn"===e.target.classList[0]&&handleElForCheckClickedButtonFunction(e.target)},changeBurgerBtn=function(e,t,o){e.classList.contains("section--white")&&o<=t+43?burgerBtn.classList.add("nav-bar__btn-burger--on-white-section"):!e.classList.contains("section--white")&&o<=t+43&&burgerBtn.classList.remove("nav-bar__btn-burger--on-white-section")},scrollSpy=function(){var c;sections.forEach(function(e){var t=window.scrollY,o=e.offsetTop,n=e.offsetHeight,r=e.getAttribute("id");o-n/2.5<=t&&(c=r),changeBurgerBtn(e,t,o)}),navItemLinks.forEach(function(e){e.classList.remove("nav-bar__list-link--active"),e.parentElement.classList.remove("nav-bar__list-item--active"),e.getAttribute("href").includes(c)&&(e.classList.add("nav-bar__list-link--active"),e.parentElement.classList.add("nav-bar__list-item--active"))})},changeQuoteRight=(scrollSpy(),function(){quoteBoxes.forEach(function(e){e.dataset.number<3?e.dataset.number=parseInt(e.dataset.number)+1:e.dataset.number=1,changeQuote(e)})}),changeQuoteLeft=function(){quoteBoxes.forEach(function(e){1<e.dataset.number?e.dataset.number=parseInt(e.dataset.number)-1:e.dataset.number=3,changeQuote(e)})},changeQuote=function(e){1==e.dataset.number?(e.classList.add("section-quote__box--left"),e.classList.remove("section-quote__box--right"),e.classList.remove("section-quote__box--visible")):2==e.dataset.number?(e.classList.remove("section-quote__box--left"),e.classList.remove("section-quote__box--right"),e.classList.add("section-quote__box--visible")):3==e.dataset.number&&(e.classList.remove("section-quote__box--left"),e.classList.add("section-quote__box--right"),e.classList.remove("section-quote__box--visible"))},checkStartDraggingPosition=function(e){startX=e.touches[0].clientX,isDragging=!0},checkCurrentDraggingPosition=function(e){isDragging&&(currentX=e.touches[0].clientX)},checkEndDraggingPosition=function(e){var t;isDragging&&(50<(t=startX-currentX)?changeQuoteLeft():t<50&&changeQuoteRight(),isDragging=!1)},showNavMenu=function(){navBarMenu.classList.toggle("nav-bar__menu--visible"),burgerBtnBars.classList.toggle("fa-xmark"),burgerBtnBars.classList.toggle("nav-bar__btn-burger--black"),burgerBtnBars.classList.toggle("fa-bars"),document.body.classList.toggle("body--menu-open"),navItems.forEach(function(e){e.classList.toggle("nav-bar__list-item--animated")})},closeNavMenu=function(){navBarMenu.classList.remove("nav-bar__menu--visible"),burgerBtnBars.classList.remove("fa-xmark"),burgerBtnBars.classList.remove("nav-bar__btn-burger--black"),burgerBtnBars.classList.add("fa-bars"),document.body.classList.remove("body--menu-open")},showEr=function(e,t){var e=e.parentElement,o=e.querySelector(".section-contact__error");e.classList.add("section-contact__form-box--error"),o.textContent=t},removeEr=function(e){e.parentElement.classList.remove("section-contact__form-box--error")},checkInputLenght=function(e,t){var o;e.getAttribute("placeholder").includes("numer telefonu")&&e.value.length!==t?(o="".concat(e.previousElementSibling.innerHTML.slice(0,-1)," powinien zawierać ").concat(t," liter"),showEr(e,o)):e.value.length<t?(o="".concat(e.previousElementSibling.innerHTML.slice(0,-1)," powinien zawierać minimalnie ").concat(t," liter"),showEr(e,o)):removeEr(e)},checkEmailSpelling=function(e){/^\S+@\S+\.\S+$/.test(e.value)?removeEr(e):showEr(e,"Email jest błędny")},checkNameSpelling=function(e){var t;/^[a-zA-Z\s]*$/.test(e.value)||(t="".concat(e.previousElementSibling.innerHTML.slice(0,-1).toLowerCase()," nie może zawierać znaków "),showEr(e,t))},checkIfElEmpty=function(e){var t;""===e.value&&e!==formTextarea?(t="uzupełnij ".concat(e.previousElementSibling.innerHTML.slice(0,-1).toLowerCase()),showEr(e,t)):""===e.value&&e===formTextarea?(t="uzupełnij ".concat(e.previousElementSibling.innerHTML.slice(0,-1).toLowerCase()),showEr(e,t)):removeEr(e)},handleElToCheck=function(e){e===formInputs?e.forEach(function(e){checkIfElEmpty(e)}):checkIfElEmpty(e)},showPopup=function(){var t=0;formBoxes.forEach(function(e){""!==e.textContent&&(t+=1)}),"?mail_status=sent"===document.location.search&&0===t&&(msgStatus.classList.add("success"),msgStatus.textContent="Wiadomość wysłana!",setTimeout(function(){msgStatus.classList.remove("success")},3e3)),"?mail_status=error"===document.location.search&&0!==t&&(msgStatus.classList.add("error"),msgStatus.textContent="Wystąpił błąd.",setTimeout(function(){msgStatus.classList.remove("error")},3e3))},handleParametersForFormFunctions=function(e){e.preventDefault(),handleElToCheck(formInputs),handleElToCheck(formTextarea),checkInputLenght(formInputName,3),checkNameSpelling(formInputName),checkInputLenght(formInputSurname,3),checkNameSpelling(formInputSurname),checkEmailSpelling(formInputEmail),checkInputLenght(formInputPhoneNumber,9),showPopup()},changeFooterYear=function(){footerYear.textContent=(new Date).getFullYear()};changeFooterYear(),window.addEventListener("scroll",scrollSpy),null!==quoteSection&&(offerChooseBtnBox.addEventListener("click",checkClickedButton),quoteIconLeft.addEventListener("click",changeQuoteLeft),quoteIconRight.addEventListener("click",changeQuoteRight),quoteSection.addEventListener("touchstart",checkStartDraggingPosition),quoteSection.addEventListener("touchmove",checkCurrentDraggingPosition),quoteSection.addEventListener("touchend",checkEndDraggingPosition)),burgerBtn.addEventListener("click",showNavMenu),navItemLinks.forEach(function(e){e.addEventListener("click",closeNavMenu)}),formBtn.addEventListener("click",handleParametersForFormFunctions);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJvZmZlckNob29zZUJ0bkJveCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm9mZmVyQ2hvb3NlQnRuRGVmYXVsdCIsIm9mZmVyQ2hvb3NlQnRuTW9udGhseSIsIm9mZmVyQ2FyZFRpdGxlIiwicXVlcnlTZWxlY3RvckFsbCIsIm9mZmVyQ2FyZFRpdGxlTW9udGhseSIsIm9mZmVyQ2FyZE1vbmV5Iiwib2ZmZXJDYXJkTW9uZXlTYWxlIiwicXVvdGVJY29uTGVmdCIsInF1b3RlSWNvblJpZ2h0IiwicXVvdGVCb3hlcyIsInF1b3RlU2VjdGlvbiIsInNlY3Rpb25zIiwiaGVhZGVyIiwibmF2SXRlbXMiLCJuYXZJdGVtTGlua3MiLCJuYXZCYXJNZW51IiwiYnVyZ2VyQnRuIiwiYnVyZ2VyQnRuQmFycyIsImZvb3RlclllYXIiLCJtc2dTdGF0dXMiLCJmb3JtQnRuIiwiZm9ybUlucHV0cyIsImZvcm1Cb3hlcyIsImZvcm1JbnB1dE5hbWUiLCJmb3JtSW5wdXRTdXJuYW1lIiwiZm9ybUlucHV0UGhvbmVOdW1iZXIiLCJmb3JtTGFiZWxzIiwiZm9ybVRleHRhcmVhIiwic3RhcnRYIiwiY3VycmVudFgiLCJpc0RyYWdnaW5nIiwiY2hvb3NlZEJ0biIsImNsYXNzTGlzdCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJuZXh0RWxlbWVudFNpYmxpbmciLCJ0b2dnbGUiLCJmb3JFYWNoIiwiZWwiLCJjaGVja0NsaWNrZWRCdXR0b24iLCJlIiwidGFyZ2V0IiwiaGFuZGxlRWxGb3JDaGVja0NsaWNrZWRCdXR0b25GdW5jdGlvbiIsImNoYW5nZUJ1cmdlckJ0biIsInNlY3Rpb24iLCJjb250YWlucyIsInNlY3Rpb25Ub3AiLCJzY3JvbGxEaXN0YW5jZSIsImFkZCIsInJlbW92ZSIsInNjcm9sbFNweSIsImN1cnJlbnRTZWN0aW9uIiwid2luZG93Iiwic2Nyb2xsWSIsIm9mZnNldFRvcCIsInNlY3Rpb25IZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJzZWN0aW9uSWQiLCJnZXRBdHRyaWJ1dGUiLCJsaW5rIiwicGFyZW50RWxlbWVudCIsImluY2x1ZGVzIiwiY2hhbmdlUXVvdGVSaWdodCIsIm51bWJlciIsImRhdGFzZXQiLCJib3giLCJwYXJzZUludCIsImNoYW5nZVF1b3RlIiwiY2hhbmdlUXVvdGVMZWZ0IiwiY2hlY2tTdGFydERyYWdnaW5nUG9zaXRpb24iLCJ0b3VjaGVzIiwiY2xpZW50WCIsImNoZWNrQ3VycmVudERyYWdnaW5nUG9zaXRpb24iLCJkaWZmZXJlbmNlWCIsImNsb3NlTmF2TWVudSIsInNob3dFciIsImlucHV0IiwibXNnIiwiaW5wdXRCb3giLCJyZW1vdmVFciIsImlucHV0RXJyb3IiLCJjaGVja0lucHV0TGVuZ2h0IiwibGVuZ3RoTXNnIiwidmFsdWUiLCJsZW5ndGgiLCJtaW5OdW0iLCJjb25jYXQiLCJpbm5lckhUTUwiLCJzbGljZSIsImNoZWNrRW1haWxTcGVsbGluZyIsInRlc3QiLCJlbWFpbCIsImNoZWNrTmFtZVNwZWxsaW5nIiwicmUiLCJzcGVsbGluZ01zZyIsIm5hbWUiLCJ0b0xvd2VyQ2FzZSIsImhhbmRsZUVsVG9DaGVjayIsImNoZWNrSWZFbEVtcHR5IiwibnVtYmVyT2ZFcnJvcnMiLCJsb2NhdGlvbiIsInRleHRDb250ZW50Iiwic2V0VGltZW91dCIsImVyIiwiaGFuZGxlUGFyYW1ldGVyc0ZvckZvcm1GdW5jdGlvbnMiLCJwcmV2ZW50RGVmYXVsdCIsInNob3dQb3B1cCIsImNoYW5nZUZvb3RlclllYXIiLCJhZGRFdmVudExpc3RlbmVyIiwic2hvd05hdk1lbnUiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJjaGVja0VuZERyYWdnaW5nUG9zaXRpb24iXSwibWFwcGluZ3MiOiJBQUFBLElBQU1BLGtCQUFvQkMsU0FBU0MsY0FBYyw0QkFBNEIsRUFDdkVDLHNCQUF3QkYsU0FBU0MsY0FBYyx3Q0FBd0MsRUFEdkZGLHNCQUFvQkMsU0FBU0MsY0FBYyx1Q0FBNkIsRUFDeEVDLGVBQUFBLFNBQXdC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QmFXLFVBQUFBLEVBcEJiWCxnQkFxQmFXLFlBQUFBLEVBcEJiM0IsaUJBcUJhMkIsY0FBaUIsQ0FBQSxFQUMvQmhCLGtCQUFBcEUsYUFBQSxFQUNBUCxpQkFBVTJGLGlCQUEwQkMsQ0FBQUEsRUFDcEM5RixrQkFBYXNCLGdCQUFjLEVBcEIxQm9ELG1CQXFCR21CLGNBQTBCbEMsRUFDN0JPLGlCQUFDdkQscUJBQUEsQ0FBQSxFQW5CRGdGLFVBQVUsQ0FDWCxFQUVNQyxpQkFBbUIsV0FDeEJ4RixXQUFXa0YsYUFBYyxJQUFJUyxNQUFPQyxZQUFZLENBQ2pELEVBQ0FKLGlCQUFpQixFQUNqQnZELE9BQU93RCxpQkFBaUIsU0FBVTFELFNBQVMsRUFDdEIsT0FBakJ2QyxlQUNIYixrQkFBa0I4RyxpQkFBaUIsUUFBU3JFLGtCQUFrQixFQUM5RC9CLGNBQWNvRyxpQkFBaUIsUUFBU3hDLGVBQWUsRUFDdkQzRCxlQUFlbUcsaUJBQWlCLFFBQVM5QyxnQkFBZ0IsRUFDekRuRCxhQUFhaUcsaUJBQWlCLGFBQWN2QywwQkFBMEIsRUFDdEUxRCxhQUFhaUcsaUJBQWlCLFlBQWFwQyw0QkFBNEIsRUFDdkU3RCxhQUFhaUcsaUJBQWlCLFdBQVlJLHdCQUF3QixHQUVuRS9GLFVBQVUyRixpQkFBaUIsUUFBU0MsV0FBVyxFQUMvQzlGLGFBQWFzQixRQUFRLFNBQUFDLEdBQ3BCQSxFQUFHc0UsaUJBQWlCLFFBQVNsQyxZQUFZLENBQzFDLENBQUMsRUFDRHJELFFBQVF1RixpQkFBaUIsUUFBU0osZ0NBQWdDIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBvZmZlckNob29zZUJ0bkJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLW9mZmVyX19jaG9vc2UtYmFyJylcclxuY29uc3Qgb2ZmZXJDaG9vc2VCdG5EZWZhdWx0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tb2ZmZXJfX2Nob29zZS1idG46Zmlyc3QtY2hpbGQnKVxyXG5jb25zdCBvZmZlckNob29zZUJ0bk1vbnRobHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1vZmZlcl9fY2hvb3NlLWJ0bjpsYXN0LWNoaWxkJylcclxuY29uc3Qgb2ZmZXJDYXJkVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi1vZmZlcl9fY2FyZC10aXRsZScpXHJcbmNvbnN0IG9mZmVyQ2FyZFRpdGxlTW9udGhseSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLW9mZmVyX19jYXJkLXRpdGxlLS1tb250aGx5JylcclxuY29uc3Qgb2ZmZXJDYXJkTW9uZXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi1vZmZlcl9fY2FyZC1tb25leS0tb25jZScpXHJcbmNvbnN0IG9mZmVyQ2FyZE1vbmV5U2FsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLW9mZmVyX19jYXJkLW1vbmV5LS1tb250aGx5JylcclxuY29uc3QgcXVvdGVJY29uTGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXF1b3RlX19pY29uLWFycm93LS1sZWZ0JylcclxuY29uc3QgcXVvdGVJY29uUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1xdW90ZV9faWNvbi1hcnJvdy0tcmlnaHQnKVxyXG5jb25zdCBxdW90ZUJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24tcXVvdGVfX2JveCcpXHJcbmNvbnN0IHF1b3RlU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXF1b3RlJylcclxuY29uc3Qgc2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbicpXHJcbmNvbnN0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKVxyXG5jb25zdCBuYXZJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXYtYmFyX19saXN0LWl0ZW0nKVxyXG5jb25zdCBuYXZJdGVtTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2LWJhcl9fbGlzdC1pdGVtIGEnKVxyXG5jb25zdCBuYXZCYXJNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1iYXJfX21lbnUnKVxyXG5jb25zdCBidXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LWJhcl9fYnRuLWJ1cmdlcicpXHJcbmNvbnN0IGJ1cmdlckJ0bkJhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LWJhcl9fYnRuLWJ1cmdlciBpJylcclxuY29uc3QgZm9vdGVyWWVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXJfX3RleHQteWVhcicpXHJcbmNvbnN0IG1zZ1N0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tc2ctc3RhdHVzJylcclxuY29uc3QgZm9ybUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWNvbnRhY3RfX2Zvcm0tYnRuJylcclxuY29uc3QgZm9ybUlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLWNvbnRhY3RfX2Zvcm0tYm94IGlucHV0JylcclxuY29uc3QgZm9ybUJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24tY29udGFjdF9fZm9ybS1ib3gnKVxyXG5jb25zdCBmb3JtSW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tY29udGFjdF9fZm9ybS1ib3ggaW5wdXQjbmFtZScpXHJcbmNvbnN0IGZvcm1JbnB1dFN1cm5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1jb250YWN0X19mb3JtLWJveCBpbnB1dCNzdXJuYW1lJylcclxuY29uc3QgZm9ybUlucHV0RW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1jb250YWN0X19mb3JtLWJveCBpbnB1dCNlbWFpbCcpXHJcbmNvbnN0IGZvcm1JbnB1dFBob25lTnVtYmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tY29udGFjdF9fZm9ybS1ib3ggaW5wdXQjcGhvbmUtbnVtYmVyJylcclxuXHJcbmNvbnN0IGZvcm1MYWJlbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi1jb250YWN0X19mb3JtLWJveCBsYWJlbCcpXHJcbmNvbnN0IGZvcm1UZXh0YXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWNvbnRhY3RfX2Zvcm0tYm94IHRleHRhcmVhJylcclxuY29uc3QgZm9ybUVycm9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLWNvbnRhY3RfX2Vycm9yJylcclxuXHJcbmxldCBzdGFydFggPSAwXHJcbmxldCBjdXJyZW50WCA9IDBcclxubGV0IGlzRHJhZ2dpbmcgPSBmYWxzZVxyXG5cclxuY29uc3QgaGFuZGxlRWxGb3JDaGVja0NsaWNrZWRCdXR0b25GdW5jdGlvbiA9IGNob29zZWRCdG4gPT4ge1xyXG5cdGNob29zZWRCdG4uY2xhc3NMaXN0LnRvZ2dsZShjaG9vc2VkQnRuLmNsYXNzTGlzdFswXSArICctLWNob29zZWQnKVxyXG5cdGlmIChjaG9vc2VkQnRuLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPT09IG9mZmVyQ2hvb3NlQnRuRGVmYXVsdCkge1xyXG5cdFx0Y2hvb3NlZEJ0bi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoY2hvb3NlZEJ0bi5jbGFzc0xpc3RbMF0gKyAnLS1jaG9vc2VkJylcclxuXHR9IGVsc2UgaWYgKGNob29zZWRCdG4ubmV4dEVsZW1lbnRTaWJsaW5nID09PSBvZmZlckNob29zZUJ0bk1vbnRobHkpIHtcclxuXHRcdGNob29zZWRCdG4ubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoY2hvb3NlZEJ0bi5jbGFzc0xpc3RbMF0gKyAnLS1jaG9vc2VkJylcclxuXHR9XHJcblxyXG5cdG9mZmVyQ2FyZFRpdGxlTW9udGhseS5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ3NlY3Rpb24tb2ZmZXJfX2NhcmQtdGl0bGUtLW1vbnRobHktdW52aXNpYmxlJykpXHJcblx0b2ZmZXJDYXJkTW9uZXlTYWxlLmZvckVhY2goZWwgPT4gZWwuY2xhc3NMaXN0LnRvZ2dsZSgnc2VjdGlvbi1vZmZlcl9fY2FyZC1tb25leS0tbW9udGhseS11bnZpc2libGUnKSlcclxuXHRvZmZlckNhcmRNb25leS5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ3NlY3Rpb24tb2ZmZXJfX2NhcmQtbW9uZXktLW9uY2UtZGVjb3JhdGlvbi1ub25lJykpXHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrQ2xpY2tlZEJ1dHRvbiA9IGUgPT4ge1xyXG5cdGlmIChcclxuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdFsxXSAhPT0gJ3NlY3Rpb24tb2ZmZXJfX2Nob29zZS1idG4tLWNob29zZWQnICYmXHJcblx0XHRlLnRhcmdldC5jbGFzc0xpc3RbMF0gPT09ICdzZWN0aW9uLW9mZmVyX19jaG9vc2UtYnRuJ1xyXG5cdCkge1xyXG5cdFx0aGFuZGxlRWxGb3JDaGVja0NsaWNrZWRCdXR0b25GdW5jdGlvbihlLnRhcmdldClcclxuXHR9XHJcbn1cclxuY29uc3QgY2hhbmdlQnVyZ2VyQnRuID0gKHNlY3Rpb24sIHNjcm9sbERpc3RhbmNlLCBzZWN0aW9uVG9wKSA9PiB7XHJcblx0aWYgKHNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWN0aW9uLS13aGl0ZScpICYmIHNlY3Rpb25Ub3AgPD0gc2Nyb2xsRGlzdGFuY2UgKyA0Mykge1xyXG5cdFx0YnVyZ2VyQnRuLmNsYXNzTGlzdC5hZGQoJ25hdi1iYXJfX2J0bi1idXJnZXItLW9uLXdoaXRlLXNlY3Rpb24nKVxyXG5cdH0gZWxzZSBpZiAoIXNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWN0aW9uLS13aGl0ZScpICYmIHNlY3Rpb25Ub3AgPD0gc2Nyb2xsRGlzdGFuY2UgKyA0Mykge1xyXG5cdFx0YnVyZ2VyQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1iYXJfX2J0bi1idXJnZXItLW9uLXdoaXRlLXNlY3Rpb24nKVxyXG5cdH1cclxufVxyXG5jb25zdCBzY3JvbGxTcHkgPSAoKSA9PiB7XHJcblx0bGV0IGN1cnJlbnRTZWN0aW9uXHJcblx0c2VjdGlvbnMuZm9yRWFjaChzZWN0aW9uID0+IHtcclxuXHRcdGNvbnN0IHNjcm9sbERpc3RhbmNlID0gd2luZG93LnNjcm9sbFlcclxuXHRcdGNvbnN0IHNlY3Rpb25Ub3AgPSBzZWN0aW9uLm9mZnNldFRvcFxyXG5cdFx0Y29uc3Qgc2VjdGlvbkhlaWdodCA9IHNlY3Rpb24ub2Zmc2V0SGVpZ2h0XHJcblx0XHRjb25zdCBzZWN0aW9uSWQgPSBzZWN0aW9uLmdldEF0dHJpYnV0ZSgnaWQnKVxyXG5cdFx0aWYgKHNjcm9sbERpc3RhbmNlID49IHNlY3Rpb25Ub3AgLSBzZWN0aW9uSGVpZ2h0IC8gMi41KSB7XHJcblx0XHRcdGN1cnJlbnRTZWN0aW9uID0gc2VjdGlvbklkXHJcblx0XHR9XHJcblx0XHRjaGFuZ2VCdXJnZXJCdG4oc2VjdGlvbiwgc2Nyb2xsRGlzdGFuY2UsIHNlY3Rpb25Ub3ApXHJcblx0fSlcclxuXHRuYXZJdGVtTGlua3MuZm9yRWFjaChsaW5rID0+IHtcclxuXHRcdGxpbmsuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LWJhcl9fbGlzdC1saW5rLS1hY3RpdmUnKVxyXG5cdFx0bGluay5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1iYXJfX2xpc3QtaXRlbS0tYWN0aXZlJylcclxuXHRcdGlmIChsaW5rLmdldEF0dHJpYnV0ZSgnaHJlZicpLmluY2x1ZGVzKGN1cnJlbnRTZWN0aW9uKSkge1xyXG5cdFx0XHRsaW5rLmNsYXNzTGlzdC5hZGQoJ25hdi1iYXJfX2xpc3QtbGluay0tYWN0aXZlJylcclxuXHRcdFx0bGluay5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ25hdi1iYXJfX2xpc3QtaXRlbS0tYWN0aXZlJylcclxuXHRcdH1cclxuXHR9KVxyXG59XHJcblxyXG5zY3JvbGxTcHkoKVxyXG5cclxuY29uc3QgY2hhbmdlUXVvdGVSaWdodCA9ICgpID0+IHtcclxuXHRxdW90ZUJveGVzLmZvckVhY2goYm94ID0+IHtcclxuXHRcdGlmIChib3guZGF0YXNldC5udW1iZXIgPCAzKSB7XHJcblx0XHRcdGJveC5kYXRhc2V0Lm51bWJlciA9IHBhcnNlSW50KGJveC5kYXRhc2V0Lm51bWJlcikgKyAxXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRib3guZGF0YXNldC5udW1iZXIgPSAxXHJcblx0XHR9XHJcblxyXG5cdFx0Y2hhbmdlUXVvdGUoYm94KVxyXG5cdH0pXHJcbn1cclxuY29uc3QgY2hhbmdlUXVvdGVMZWZ0ID0gKCkgPT4ge1xyXG5cdHF1b3RlQm94ZXMuZm9yRWFjaChib3ggPT4ge1xyXG5cdFx0aWYgKGJveC5kYXRhc2V0Lm51bWJlciA+IDEpIHtcclxuXHRcdFx0Ym94LmRhdGFzZXQubnVtYmVyID0gcGFyc2VJbnQoYm94LmRhdGFzZXQubnVtYmVyKSAtIDFcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGJveC5kYXRhc2V0Lm51bWJlciA9IDNcclxuXHRcdH1cclxuXHJcblx0XHRjaGFuZ2VRdW90ZShib3gpXHJcblx0fSlcclxufVxyXG5cclxuY29uc3QgY2hhbmdlUXVvdGUgPSBib3ggPT4ge1xyXG5cdGlmIChib3guZGF0YXNldC5udW1iZXIgPT0gMSkge1xyXG5cdFx0Ym94LmNsYXNzTGlzdC5hZGQoJ3NlY3Rpb24tcXVvdGVfX2JveC0tbGVmdCcpXHJcblx0XHRib3guY2xhc3NMaXN0LnJlbW92ZSgnc2VjdGlvbi1xdW90ZV9fYm94LS1yaWdodCcpXHJcblx0XHRib3guY2xhc3NMaXN0LnJlbW92ZSgnc2VjdGlvbi1xdW90ZV9fYm94LS12aXNpYmxlJylcclxuXHR9IGVsc2UgaWYgKGJveC5kYXRhc2V0Lm51bWJlciA9PSAyKSB7XHJcblx0XHRib3guY2xhc3NMaXN0LnJlbW92ZSgnc2VjdGlvbi1xdW90ZV9fYm94LS1sZWZ0JylcclxuXHRcdGJveC5jbGFzc0xpc3QucmVtb3ZlKCdzZWN0aW9uLXF1b3RlX19ib3gtLXJpZ2h0JylcclxuXHRcdGJveC5jbGFzc0xpc3QuYWRkKCdzZWN0aW9uLXF1b3RlX19ib3gtLXZpc2libGUnKVxyXG5cdH0gZWxzZSBpZiAoYm94LmRhdGFzZXQubnVtYmVyID09IDMpIHtcclxuXHRcdGJveC5jbGFzc0xpc3QucmVtb3ZlKCdzZWN0aW9uLXF1b3RlX19ib3gtLWxlZnQnKVxyXG5cdFx0Ym94LmNsYXNzTGlzdC5hZGQoJ3NlY3Rpb24tcXVvdGVfX2JveC0tcmlnaHQnKVxyXG5cdFx0Ym94LmNsYXNzTGlzdC5yZW1vdmUoJ3NlY3Rpb24tcXVvdGVfX2JveC0tdmlzaWJsZScpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGVja1N0YXJ0RHJhZ2dpbmdQb3NpdGlvbiA9IGUgPT4ge1xyXG5cdHN0YXJ0WCA9IGUudG91Y2hlc1swXS5jbGllbnRYXHJcblx0aXNEcmFnZ2luZyA9IHRydWVcclxufVxyXG5jb25zdCBjaGVja0N1cnJlbnREcmFnZ2luZ1Bvc2l0aW9uID0gZSA9PiB7XHJcblx0aWYgKCFpc0RyYWdnaW5nKSByZXR1cm5cclxuXHQvLyBvbmx5IHdoZW4gLS0gaXNEcmFnZ2luZyA9IHRydWVcclxuXHRjdXJyZW50WCA9IGUudG91Y2hlc1swXS5jbGllbnRYXHJcbn1cclxuY29uc3QgY2hlY2tFbmREcmFnZ2luZ1Bvc2l0aW9uID0gZSA9PiB7XHJcblx0aWYgKCFpc0RyYWdnaW5nKSByZXR1cm5cclxuXHRjb25zdCBkaWZmZXJlbmNlWCA9IHN0YXJ0WCAtIGN1cnJlbnRYXHJcblx0aWYgKGRpZmZlcmVuY2VYID4gNTApIHtcclxuXHRcdGNoYW5nZVF1b3RlTGVmdCgpXHJcblx0fSBlbHNlIGlmIChkaWZmZXJlbmNlWCA8IDUwKSB7XHJcblx0XHRjaGFuZ2VRdW90ZVJpZ2h0KClcclxuXHR9XHJcblx0aXNEcmFnZ2luZyA9IGZhbHNlXHJcbn1cclxuLy9NICBpc0RyYWdnaW5nIGlzIG9ubHkgZm9yIGZ1dHVyZSBjb2RlLCBub3QgbmVlZGVkIG5vd1xyXG5cclxuY29uc3Qgc2hvd05hdk1lbnUgPSAoKSA9PiB7XHJcblx0bmF2QmFyTWVudS5jbGFzc0xpc3QudG9nZ2xlKCduYXYtYmFyX19tZW51LS12aXNpYmxlJylcclxuXHRidXJnZXJCdG5CYXJzLmNsYXNzTGlzdC50b2dnbGUoJ2ZhLXhtYXJrJylcclxuXHRidXJnZXJCdG5CYXJzLmNsYXNzTGlzdC50b2dnbGUoJ25hdi1iYXJfX2J0bi1idXJnZXItLWJsYWNrJylcclxuXHRidXJnZXJCdG5CYXJzLmNsYXNzTGlzdC50b2dnbGUoJ2ZhLWJhcnMnKVxyXG5cdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnYm9keS0tbWVudS1vcGVuJylcclxuXHRuYXZJdGVtcy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGVsLmNsYXNzTGlzdC50b2dnbGUoJ25hdi1iYXJfX2xpc3QtaXRlbS0tYW5pbWF0ZWQnKVxyXG5cdH0pXHJcbn1cclxuY29uc3QgY2xvc2VOYXZNZW51ID0gKCkgPT4ge1xyXG5cdG5hdkJhck1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LWJhcl9fbWVudS0tdmlzaWJsZScpXHJcblx0YnVyZ2VyQnRuQmFycy5jbGFzc0xpc3QucmVtb3ZlKCdmYS14bWFyaycpXHJcblx0YnVyZ2VyQnRuQmFycy5jbGFzc0xpc3QucmVtb3ZlKCduYXYtYmFyX19idG4tYnVyZ2VyLS1ibGFjaycpXHJcblx0YnVyZ2VyQnRuQmFycy5jbGFzc0xpc3QuYWRkKCdmYS1iYXJzJylcclxuXHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2JvZHktLW1lbnUtb3BlbicpXHJcbn1cclxuXHJcbi8vIGZvcm1cclxuXHJcbmNvbnN0IHNob3dFciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcblx0Y29uc3QgaW5wdXRCb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50XHJcblx0Y29uc3QgaW5wdXRFcnJvciA9IGlucHV0Qm94LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWNvbnRhY3RfX2Vycm9yJylcclxuXHRpbnB1dEJveC5jbGFzc0xpc3QuYWRkKCdzZWN0aW9uLWNvbnRhY3RfX2Zvcm0tYm94LS1lcnJvcicpXHJcblx0aW5wdXRFcnJvci50ZXh0Q29udGVudCA9IG1zZ1xyXG59XHJcbmNvbnN0IHJlbW92ZUVyID0gaW5wdXQgPT4ge1xyXG5cdGNvbnN0IGlucHV0Qm94ID0gaW5wdXQucGFyZW50RWxlbWVudFxyXG5cdGlucHV0Qm94LmNsYXNzTGlzdC5yZW1vdmUoJ3NlY3Rpb24tY29udGFjdF9fZm9ybS1ib3gtLWVycm9yJylcclxufVxyXG5cclxuY29uc3QgY2hlY2tJbnB1dExlbmdodCA9IChpbnB1dCwgbWluTnVtKSA9PiB7XHJcblx0aWYgKChpbnB1dC5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJykuaW5jbHVkZXMoJ251bWVyIHRlbGVmb251JykgJiYgaW5wdXQudmFsdWUubGVuZ3RoICE9PSBtaW5OdW0pKSB7XHJcblx0XHRjb25zdCBsZW5ndGhNc2cgPSBgJHtpbnB1dC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmlubmVySFRNTC5zbGljZSgwLCAtMSl9IHBvd2luaWVuIHphd2llcmHEhyAke21pbk51bX0gbGl0ZXJgXHJcblx0XHRzaG93RXIoaW5wdXQsIGxlbmd0aE1zZylcclxuXHR9IGVsc2UgaWYgKGlucHV0LnZhbHVlLmxlbmd0aCA8IG1pbk51bSkge1xyXG5cdFx0Y29uc3QgbGVuZ3RoTXNnID0gYCR7aW5wdXQucHJldmlvdXNFbGVtZW50U2libGluZy5pbm5lckhUTUwuc2xpY2UoMCwgLTEpfSBwb3dpbmllbiB6YXdpZXJhxIcgbWluaW1hbG5pZSAke21pbk51bX0gbGl0ZXJgXHJcblx0XHRzaG93RXIoaW5wdXQsIGxlbmd0aE1zZylcclxuXHR9IGVsc2V7XHJcblx0XHRyZW1vdmVFcihpbnB1dClcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrRW1haWxTcGVsbGluZyA9IGVtYWlsID0+IHtcclxuXHRjb25zdCByZSA9IC9eXFxTK0BcXFMrXFwuXFxTKyQvXHJcblx0aWYgKHJlLnRlc3QoZW1haWwudmFsdWUpKSB7XHJcblx0XHRyZW1vdmVFcihlbWFpbClcclxuXHR9IGVsc2Uge1xyXG5cdFx0c2hvd0VyKGVtYWlsLCAnRW1haWwgamVzdCBixYLEmWRueScpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGVja05hbWVTcGVsbGluZyA9IG5hbWUgPT4ge1xyXG5cdGNvbnN0IHJlID0gL15bYS16QS1aXFxzXSokL1xyXG5cclxuXHRpZiAoIXJlLnRlc3QobmFtZS52YWx1ZSkpIHtcclxuXHRcdGNvbnN0IHNwZWxsaW5nTXNnID0gYCR7bmFtZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmlubmVySFRNTC5zbGljZSgwLCAtMSkudG9Mb3dlckNhc2UoKX0gbmllIG1vxbxlIHphd2llcmHEhyB6bmFrw7N3IGBcclxuXHRcdHNob3dFcihuYW1lLCBzcGVsbGluZ01zZylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrSWZFbEVtcHR5ID0gZWwgPT4ge1xyXG5cdGlmIChlbC52YWx1ZSA9PT0gJycgJiYgZWwgIT09IGZvcm1UZXh0YXJlYSkge1xyXG5cdFx0Y29uc3QgbXNnID0gYHV6dXBlxYJuaWogJHtlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmlubmVySFRNTC5zbGljZSgwLCAtMSkudG9Mb3dlckNhc2UoKX1gXHJcblx0XHRzaG93RXIoZWwsIG1zZylcclxuXHR9IGVsc2UgaWYgKGVsLnZhbHVlID09PSAnJyAmJiBlbCA9PT0gZm9ybVRleHRhcmVhKSB7XHJcblx0XHRjb25zdCBtc2cgPSBgdXp1cGXFgm5paiAke2VsLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuaW5uZXJIVE1MLnNsaWNlKDAsIC0xKS50b0xvd2VyQ2FzZSgpfWBcclxuXHRcdHNob3dFcihlbCwgbXNnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRyZW1vdmVFcihlbClcclxuXHR9XHJcblxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVFbFRvQ2hlY2sgPSBlbCA9PiB7XHJcblx0aWYgKGVsID09PSBmb3JtSW5wdXRzKSB7XHJcblx0XHRlbC5mb3JFYWNoKGlucHV0ID0+IHtcclxuXHRcdFx0Y2hlY2tJZkVsRW1wdHkoaW5wdXQpXHJcblx0XHR9KVxyXG5cdH0gZWxzZSB7XHJcblx0XHRjaGVja0lmRWxFbXB0eShlbClcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHNob3dQb3B1cCA9ICgpID0+IHtcclxuXHJcblx0bGV0IG51bWJlck9mRXJyb3JzID0gMFxyXG5cdGZvcm1Cb3hlcy5mb3JFYWNoKGVyID0+e1xyXG5cdFx0aWYoZXIudGV4dENvbnRlbnQgIT09ICcnKXtcclxuXHRcdFx0bnVtYmVyT2ZFcnJvcnMrPTFcclxuXHRcdH1cclxuXHR9KVxyXG5cdGlmIChkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2ggPT09ICc/bWFpbF9zdGF0dXM9c2VudCcgJiYgbnVtYmVyT2ZFcnJvcnMgPT09IDApIHtcclxuXHRcdG1zZ1N0YXR1cy5jbGFzc0xpc3QuYWRkKCdzdWNjZXNzJylcclxuXHRcdG1zZ1N0YXR1cy50ZXh0Q29udGVudCA9ICdXaWFkb21vxZvEhyB3eXPFgmFuYSEnXHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdG1zZ1N0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdzdWNjZXNzJylcclxuXHRcdH0sIDMwMDApXHJcblx0fVxyXG5cclxuXHRpZiAoZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoID09PSAnP21haWxfc3RhdHVzPWVycm9yJyAmJiBudW1iZXJPZkVycm9ycyAhPT0gMCkge1xyXG5cdFx0bXNnU3RhdHVzLmNsYXNzTGlzdC5hZGQoJ2Vycm9yJylcclxuXHRcdG1zZ1N0YXR1cy50ZXh0Q29udGVudCA9ICdXeXN0xIVwacWCIGLFgsSFZC4nXHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdG1zZ1N0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpXHJcblx0XHR9LCAzMDAwKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgaGFuZGxlUGFyYW1ldGVyc0ZvckZvcm1GdW5jdGlvbnMgPSBlID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KClcclxuXHRoYW5kbGVFbFRvQ2hlY2soZm9ybUlucHV0cylcclxuXHRoYW5kbGVFbFRvQ2hlY2soZm9ybVRleHRhcmVhKVxyXG5cdGNoZWNrSW5wdXRMZW5naHQoZm9ybUlucHV0TmFtZSwgMylcclxuXHRjaGVja05hbWVTcGVsbGluZyhmb3JtSW5wdXROYW1lKVxyXG5cdGNoZWNrSW5wdXRMZW5naHQoZm9ybUlucHV0U3VybmFtZSwgMylcclxuXHRjaGVja05hbWVTcGVsbGluZyhmb3JtSW5wdXRTdXJuYW1lKVxyXG5cdGNoZWNrRW1haWxTcGVsbGluZyhmb3JtSW5wdXRFbWFpbClcclxuXHRjaGVja0lucHV0TGVuZ2h0KGZvcm1JbnB1dFBob25lTnVtYmVyLCA5KVxyXG5cdFxyXG5cdHNob3dQb3B1cCgpXHJcbn1cclxuXHJcbmNvbnN0IGNoYW5nZUZvb3RlclllYXIgPSAoKSA9PiB7XHJcblx0Zm9vdGVyWWVhci50ZXh0Q29udGVudCA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKVxyXG59XHJcbmNoYW5nZUZvb3RlclllYXIoKVxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsU3B5KVxyXG5pZiAocXVvdGVTZWN0aW9uICE9PSBudWxsKSB7XHJcblx0b2ZmZXJDaG9vc2VCdG5Cb3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGVja0NsaWNrZWRCdXR0b24pXHJcblx0cXVvdGVJY29uTGVmdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoYW5nZVF1b3RlTGVmdClcclxuXHRxdW90ZUljb25SaWdodC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoYW5nZVF1b3RlUmlnaHQpXHJcblx0cXVvdGVTZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBjaGVja1N0YXJ0RHJhZ2dpbmdQb3NpdGlvbilcclxuXHRxdW90ZVNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgY2hlY2tDdXJyZW50RHJhZ2dpbmdQb3NpdGlvbilcclxuXHRxdW90ZVNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBjaGVja0VuZERyYWdnaW5nUG9zaXRpb24pXHJcbn1cclxuYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd05hdk1lbnUpXHJcbm5hdkl0ZW1MaW5rcy5mb3JFYWNoKGVsID0+IHtcclxuXHRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTmF2TWVudSlcclxufSlcclxuZm9ybUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVBhcmFtZXRlcnNGb3JGb3JtRnVuY3Rpb25zKVxyXG4iXX0=
